<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>MAX</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
html, body {
  margin: 0;
  padding: 0;
  height: 100%;
  overflow: hidden;
  font-family: Comic Sans MS, Impact, sans-serif;
}

/* BACKGROUND */
body {
  background-image: url("1.png");
  background-repeat: repeat;
  animation: scrollBg 20s linear infinite;
}

@keyframes scrollBg {
  from { background-position: 0 0; }
  to { background-position: 1200px 1200px; }
}

/* TITLE */
h1 {
  position: fixed;
  top: 10px;
  width: 100%;
  text-align: center;
  font-size: 3rem;
  color: red;
  text-shadow: 4px 4px black;
  z-index: 20;
}

/* WATERMARK */
#watermark {
  position: absolute;
  font-size: 14px;
  color: rgba(255,255,255,0.7);
  text-shadow: 1px 1px black;
  z-index: 50;
  pointer-events: none;
}

/* DVD */
.dvd {
  position: absolute;
  width: 140px;
  pointer-events: none;
  z-index: 5;
}

/* JUMPSCARE */
#jumpscare {
  position: fixed;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  width: 320px;
  display: none;
  z-index: 999;
}

/* RAIN */
.rain {
  position: absolute;
  top: -120px;
  pointer-events: none;
  animation: fall linear forwards;
}

@keyframes fall {
  to {
    transform: translateY(120vh) rotate(360deg);
    opacity: 0.85;
  }
}
</style>
</head>
<body>

<h1>MAXXXXXXXXXXXXXXXXXXXXXXXXXXXX</h1>

<div id="watermark">Built by Curtis Gann</div>
<img id="jumpscare">

<!-- Persistent Audio Element -->
<audio id="randomPlayer"></audio>

<script>
// IMAGE LIST
const images = ["1.png","2.png","3.png","4.png","5.png"];

// ===== FIXED RANDOM SOUND SYSTEM =====
const sounds = [
  "/sounds/1.ogg",
  "/sounds/2.ogg",
  "/sounds/3.ogg"
];

const audioPlayer = document.getElementById("randomPlayer");
let soundStarted = false;

function getRandomDelay() {
  return Math.floor(Math.random() * 5000) + 3000; // 3-8 sec
}

function playRandomSound() {
  const randomSound = sounds[Math.floor(Math.random() * sounds.length)];
  audioPlayer.src = randomSound;
  audioPlayer.volume = 1;
  audioPlayer.play().catch(() => {});
}

function scheduleNextSound() {
  setTimeout(() => {
    playRandomSound();
    scheduleNextSound();
  }, getRandomDelay());
}

// Start after first click (bypasses autoplay restrictions)
document.addEventListener("click", () => {
  if (!soundStarted) {
    soundStarted = true;
    playRandomSound();
    scheduleNextSound();
  }
});

// ===== MULTIPLE DVD BOUNCERS =====
const dvdCount = 15;
const dvds = [];

const centerX = window.innerWidth / 2;
const centerY = window.innerHeight / 2;

for (let i = 0; i < dvdCount; i++) {
  const img = document.createElement("img");
  img.className = "dvd";
  img.src = images[Math.floor(Math.random() * images.length)];
  document.body.appendChild(img);

  dvds.push({
    el: img,
    x: centerX - 70,
    y: centerY - 70,
    dx: (Math.random() * 4 + 2) * (Math.random() < 0.5 ? -1 : 1),
    dy: (Math.random() * 4 + 2) * (Math.random() < 0.5 ? -1 : 1)
  });
}

function moveDVDs() {
  dvds.forEach(dvd => {
    dvd.x += dvd.dx;
    dvd.y += dvd.dy;

    if (dvd.x <= 0 || dvd.x + dvd.el.width >= window.innerWidth) {
      dvd.dx *= -1;
      dvd.el.src = images[Math.floor(Math.random() * images.length)];
    }
    if (dvd.y <= 0 || dvd.y + dvd.el.height >= window.innerHeight) {
      dvd.dy *= -1;
      dvd.el.src = images[Math.floor(Math.random() * images.length)];
    }

    dvd.el.style.left = dvd.x + "px";
    dvd.el.style.top = dvd.y + "px";
  });

  requestAnimationFrame(moveDVDs);
}
moveDVDs();
</script>

</body>
</html>